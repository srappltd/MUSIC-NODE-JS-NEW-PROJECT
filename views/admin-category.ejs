<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Free Music Online - Admin Login</title>
    <link rel="shortcut icon" href="https://www.wynk.in/assets/icons/icon-384x384.png" type="image/x-icon">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.6.0/fonts/remixicon.css" rel="stylesheet">
    <link rel="stylesheet" href="../stylesheet/style.css">
    <link rel="stylesheet" href="../stylesheet/admin-dehboard.css">
</head>
<body>
    <div id="main">
        <%- include("admin-nav.ejs")%>
        <div class="admin-pg">
            <%- include("site-menu.ejs")%>
            <div class="admin-pg-rt">
                <!-- // category page  -->
                <div class="admim-pages cate-page active">
                    <div class="cate-new">
                        <h3>Category</h3>
                        <a><?xml version="1.0" ?><svg height="48" viewBox="0 0 48 48" width="48" xmlns="http://www.w3.org/2000/svg"><path d="M38 26H26v12h-4V26H10v-4h12V10h4v12h12v4z"/><path d="M0 0h48v48H0z" fill="none"/></svg> add category</a>
                    </div>
                    <div class="cate-btm">
                        <table>
                            <tr>
                                <th>Category Name</th>
                                <th>Category Image</th>
                                <th>Status</th>
                                <th>Action</th>
                            </tr>
                            <% if(allCategorys != null){%>
                                <% allCategorys.reverse().forEach(category=>{%>
                                    <tr>
                                        <td class="cate-td"><h4><%= category.title%></h4></td>
                                        <td class="cate-td"><img src="../admin/category/<%= category.picture%>" alt=""></td>
                                        <td class="cate-td"><span class="acitve">Active</span></td>
                                        <td class="cate-td cate-flex">
                                            <a class="cate-edit-btn cate-edit"><?xml version="1.0" ?><svg class="feather feather-edit" fill="none" height="24" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/></svg></span>
                                            <a href="/admin/category-delete?c=<%= category._id%>" class="cate-edit-btn cate-close"><?xml version="1.0" ?><svg class="feather feather-x" fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><line x1="18" x2="6" y1="6" y2="18"/><line x1="6" x2="18" y1="6" y2="18"/></svg></span>
                                        </td>
                                    </tr>
                                <%})%>
                            <%}%>
                            
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- //category form  -->
        <div class="cate-form">
            <form action="/admin/category" class="category-form" method="post" enctype="multipart/form-data">
                <h3>add category</h3>
                
                <div class="input">
                    <label for="">Category Name</label>
                    <input type="text" name="title" required id="" placeholder="Category name">
                </div>
                <img src="" alt="" class="cate-poster-img" style="width: 300px; margin: 0 auto;">
                <div class="cate-poster-click" style="width: 100%;text-align: center;background-color: #ff295bd0;padding: 10px 0; border-radius: 3px; font-weight: 600;">Select Category image</div>
                <input type="file" hidden class="cate-poster-input" accept="image/*" name="category">
                <script>
                    document.querySelector(".cate-poster-click").addEventListener("click",()=>{
                        document.querySelector(".cate-poster-input").click()
                    })
                    document.querySelector(".cate-poster-input").addEventListener("change",()=>{
                        document.querySelector(".cate-poster-img").src = URL.createObjectURL(document.querySelector(".cate-poster-input").files[0])
                    })
                </script>
                <button>Save</button>
            </form>
            <div class="ct-f-close"><svg class="feather feather-x" fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><line x1="18" x2="6" y1="6" y2="18"/><line x1="6" x2="18" y1="6" y2="18"/></svg></div>
        </div>
        
    </div>
    <script src="../script/admin.js"></script>
    <script>
        // category list add
        document.querySelector(".cate-new a").addEventListener("click",()=>{
            document.querySelector(".cate-form").style.display = "flex"
        })
        // close form when clicking
        document.querySelectorAll(".ct-f-close").forEach(elem=>{
            elem.addEventListener("click",()=>{
                document.querySelectorAll(".cate-form").forEach(elfs=>{
                    elfs.style.display = "none"
                })
            })
        })
    </script>
</body>
</html>